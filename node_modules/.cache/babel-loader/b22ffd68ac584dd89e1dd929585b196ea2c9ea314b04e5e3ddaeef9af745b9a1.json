{"ast":null,"code":"var _jsxFileName = \"/Users/geos/Desktop/motionpromax/src/Layout.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useRef, useState } from \"react\";\nimport { Outlet, useNavigate, Link } from \"react-router-dom\";\nimport NoteList from \"./NoteList\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { currentDate } from \"./utils\";\nimport { GoogleLogin, googleLogout, useGoogleLogin } from '@react-oauth/google';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst localStorageKey = \"lotion-v1\";\nfunction Layout() {\n  _s();\n  const navigate = useNavigate();\n  const mainContainerRef = useRef(null);\n  const [collapse, setCollapse] = useState(false);\n  const [notes, setNotes] = useState([]);\n  const [editMode, setEditMode] = useState(false);\n  const [currentNote, setCurrentNote] = useState(-1);\n  const [accessToken, setAccessToken] = useState(null);\n  useEffect(() => {\n    if (currentNote < 0) {\n      return;\n    }\n    if (!editMode) {\n      navigate(`/notes/${currentNote + 1}`);\n      return;\n    }\n    navigate(`/notes/${currentNote + 1}/edit`);\n  }, [notes]);\n\n  // Google\n  const [signedIn, setSignedIn] = useState(JSON.parse(localStorage.getItem('profile')) ? true : false);\n  const [user, setUser] = useState(JSON.parse(localStorage.getItem('user')) ? JSON.parse(localStorage.getItem('user')) : []);\n  const [profile, setProfile] = useState(JSON.parse(localStorage.getItem('profile')) ? JSON.parse(localStorage.getItem('profile')) : null);\n  const login = useGoogleLogin({\n    onSuccess: codeResponse => {\n      setUser(codeResponse);\n      localStorage.setItem('user', JSON.stringify(codeResponse));\n    },\n    onError: error => console.log('Login Failed:', error)\n  });\n\n  /// USE EFFECTS ///\n  useEffect(() => {\n    if (profile && user) {\n      setAccessToken(user.access_token);\n      localStorage.setItem('profile', JSON.stringify(profile));\n      getNotes(profile, user.access_token);\n    }\n    if (!profile) {\n      navigate(\"/\");\n      setAccessToken(null);\n      setUser([]);\n    }\n  }, [profile]);\n  useEffect(() => {\n    if (user && user.access_token) {\n      axios.get(`https://www.googleapis.com/oauth2/v1/userinfo?access_token=${user.access_token}`, {\n        headers: {\n          Authorization: `Bearer ${user.access_token}`,\n          Accept: 'application/json'\n        }\n      }).then(res => {\n        setProfile(res.data);\n      }).catch(err => {\n        console.log(err);\n      });\n    }\n  }, [user]);\n  const logOut = () => {\n    setSignedIn(false);\n    googleLogout();\n    setProfile(null);\n    localStorage.removeItem('user');\n    localStorage.removeItem('profile');\n    setProfile(null);\n    setUser([]);\n  };\n\n  /// FUNCTIONS ///\n  const saveNote = async (note, index) => {\n    setEditMode(false);\n    note.body = note.body.replaceAll(\"<p><br></p>\", \"\");\n    setNotes([...notes.slice(0, index), {\n      ...note\n    }, ...notes.slice(index + 1)]);\n    setCurrentNote(index);\n    setEditMode(false);\n    const email = profile.email;\n    await fetch(\"https://kw7plb7x2s364zubzepspwewbq0mcztt.lambda-url.ca-central-1.on.aws/\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authentication\": accessToken\n      },\n      body: JSON.stringify({\n        ...note,\n        email: email\n      })\n    });\n  };\n  const deleteNote = async (index, user) => {\n    const noteId = notes[index].id;\n    const email = profile.email;\n    {\n      accessToken ? console.log(accessToken) : console.log(\"not work\");\n    }\n    ;\n    await fetch(\"https://rsyegodqj2gjpnvxly6yjbe54q0wnwjv.lambda-url.ca-central-1.on.aws/\", {\n      method: \"DELETE\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authentication\": accessToken\n      },\n      body: JSON.stringify({\n        id: noteId,\n        email: email\n      })\n    });\n    setNotes([...notes.slice(0, index), ...notes.slice(index + 1)]);\n    setCurrentNote(0);\n    setEditMode(false);\n  };\n  const getNotes = async (profile, aToken) => {\n    console.log(\"In the process of getting notes...\");\n    const email = profile.email;\n    const res = await fetch(`https://ctbkgtwmw4plqzjvkbc5x3qwce0ubaop.lambda-url.ca-central-1.on.aws?email=${email}`, {\n      // mode:'no-cors',\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authentication\": aToken\n      }\n    });\n    const data = await res.json();\n    setNotes(data.data);\n  };\n  const addNote = () => {\n    setNotes([{\n      id: uuidv4(),\n      title: \"Untitled\",\n      body: \"\",\n      when: currentDate()\n    }, ...notes]);\n    setEditMode(true);\n    setCurrentNote(0);\n  };\n  const [bgColor, setBgColor] = useState('white');\n  const [color, setColor] = useState('black');\n  const handleButtonClick = () => {\n    setBgColor(bgColor === 'white' ? 'black' : 'white');\n    setColor(color === 'black' ? 'white' : 'black');\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: profile ? /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        backgroundColor: bgColor,\n        color: color\n      },\n      id: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        children: [/*#__PURE__*/_jsxDEV(\"aside\", {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            style: {\n              color: color\n            },\n            id: \"menu-button\",\n            onClick: () => setCollapse(!collapse),\n            children: \"\\u2630\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            style: {\n              width: '60px',\n              color: color\n            },\n            onClick: handleButtonClick,\n            children: \"\\u25D1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"app-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/notes\",\n              children: \"Motion ProMax\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n            id: \"app-moto\",\n            children: \"Like Motion, but better.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"right\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"absolute\",\n            children: signedIn ? profile.email : \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            style: {\n              color: color\n            },\n            id: signedIn ? \"log-out-button\" : \"log-out-button-hidden\",\n            onClick: () => logOut(),\n            children: \"Log out\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"main-container\",\n        ref: mainContainerRef,\n        children: [/*#__PURE__*/_jsxDEV(\"aside\", {\n          id: \"sidebar\",\n          className: collapse ? \"hidden\" : null,\n          children: [/*#__PURE__*/_jsxDEV(\"header\", {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              id: \"notes-list-heading\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                children: \"Notes\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 229,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                style: {\n                  color: color\n                },\n                id: \"new-note-button\",\n                onClick: addNote,\n                children: \"+\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"notes-holder\",\n            children: /*#__PURE__*/_jsxDEV(NoteList, {\n              notes: notes\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"write-box\",\n          children: /*#__PURE__*/_jsxDEV(Outlet, {\n            context: [notes, saveNote, deleteNote]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"LoginPage\",\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        children: [/*#__PURE__*/_jsxDEV(\"aside\", {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            id: \"menu-button\",\n            onClick: () => setCollapse(!collapse),\n            children: \"\\u2630\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            style: {\n              width: '60px',\n              color: color\n            },\n            onClick: handleButtonClick,\n            children: \"\\u25D1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"app-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/notes\",\n              children: \"Motion proMax\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n            id: \"app-moto\",\n            children: \"Like Motion, but better.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"aside\", {\n          children: \"\\xA0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"sign-in\",\n        children: /*#__PURE__*/_jsxDEV(GoogleLogin, {\n          onSuccess: () => {\n            login();\n            setSignedIn(true);\n          },\n          onError: error => console.log(\"Login Failed:\", error)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 198,\n    columnNumber: 5\n  }, this);\n}\n_s(Layout, \"AOlExrFN5zRUK7soLlIPzcffios=\", false, function () {\n  return [useNavigate, useGoogleLogin];\n});\n_c = Layout;\nexport default Layout;\nvar _c;\n$RefreshReg$(_c, \"Layout\");","map":{"version":3,"names":["useEffect","useRef","useState","Outlet","useNavigate","Link","NoteList","v4","uuidv4","currentDate","GoogleLogin","googleLogout","useGoogleLogin","axios","jsxDEV","_jsxDEV","localStorageKey","Layout","_s","navigate","mainContainerRef","collapse","setCollapse","notes","setNotes","editMode","setEditMode","currentNote","setCurrentNote","accessToken","setAccessToken","signedIn","setSignedIn","JSON","parse","localStorage","getItem","user","setUser","profile","setProfile","login","onSuccess","codeResponse","setItem","stringify","onError","error","console","log","access_token","getNotes","get","headers","Authorization","Accept","then","res","data","catch","err","logOut","removeItem","saveNote","note","index","body","replaceAll","slice","email","fetch","method","deleteNote","noteId","id","aToken","json","addNote","title","when","bgColor","setBgColor","color","setColor","handleButtonClick","children","style","backgroundColor","onClick","fileName","_jsxFileName","lineNumber","columnNumber","width","to","ref","className","context","_c","$RefreshReg$"],"sources":["/Users/geos/Desktop/motionpromax/src/Layout.js"],"sourcesContent":["import { useEffect, useRef, useState } from \"react\";\nimport { Outlet, useNavigate, Link} from \"react-router-dom\";\nimport NoteList from \"./NoteList\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { currentDate } from \"./utils\";\nimport { GoogleLogin,googleLogout, useGoogleLogin } from '@react-oauth/google';\nimport axios from 'axios';\n\nconst localStorageKey = \"lotion-v1\";\n\nfunction Layout() {\n  const navigate = useNavigate();\n  const mainContainerRef = useRef(null);\n  const [collapse, setCollapse] = useState(false);\n  const [notes, setNotes] = useState([]);\n  const [editMode, setEditMode] = useState(false);\n  const [currentNote, setCurrentNote] = useState(-1);\n  const [accessToken,setAccessToken] = useState(null);\n  \n  useEffect(() => {\n    if (currentNote < 0) {\n      return;\n    }\n    if (!editMode) {\n      navigate(`/notes/${currentNote + 1}`);\n      return;\n    }\n    navigate(`/notes/${currentNote + 1}/edit`);\n  }, [notes]);\n\n  // Google\n  const [signedIn, setSignedIn] = useState(\n    \n    JSON.parse(localStorage.getItem('profile')) ?\n    (true):(false)\n    \n  );\n  const [ user, setUser ] = useState(\n    JSON.parse(localStorage.getItem('user')) ?\n    (JSON.parse(localStorage.getItem('user'))):([])\n  );\n\n  const [ profile, setProfile ] = useState(\n    JSON.parse(localStorage.getItem('profile')) ? \n\n      (JSON.parse(localStorage.getItem('profile'))) : (null)\n  );\n  \n  const login = useGoogleLogin({\n    onSuccess: (codeResponse) => {\n      setUser(codeResponse);\n      localStorage.setItem('user', JSON.stringify(codeResponse));\n    },\n    onError: (error) => console.log('Login Failed:', error)\n  });\n\n  /// USE EFFECTS ///\n  useEffect(() => {\n    if (profile && user) {\n      setAccessToken(user.access_token);\n      localStorage.setItem('profile', JSON.stringify(profile));\n      getNotes(profile,user.access_token);\n    }\n\n    if(!profile) {\n      navigate(\"/\");\n      setAccessToken(null);\n      setUser([]);\n    }\n  }, [profile])\n\n  useEffect(() => {\n    if (user && user.access_token) {\n      axios.get(`https://www.googleapis.com/oauth2/v1/userinfo?access_token=${user.access_token}`, {\n        headers: {\n          Authorization: `Bearer ${user.access_token}`,\n          Accept: 'application/json'\n        }\n      })\n      .then((res) => {\n        setProfile(res.data);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n    }\n  }, [user]);\n  \n  \n  const logOut = () => {\n\n    setSignedIn(false);\n    googleLogout();\n    setProfile(null);\n    localStorage.removeItem('user');\n    localStorage.removeItem('profile');\n    setProfile(null);\n    setUser([]);\n  };\n\n\n  /// FUNCTIONS ///\n  const saveNote = async(note, index) => {\n    setEditMode(false);\n    note.body = note.body.replaceAll(\"<p><br></p>\", \"\");\n    setNotes([\n      ...notes.slice(0, index),\n      { ...note },\n      ...notes.slice(index + 1),\n    ]);\n    setCurrentNote(index);\n    setEditMode(false);\n\n    const email = profile.email;\n\n    await fetch(\n      \"https://kw7plb7x2s364zubzepspwewbq0mcztt.lambda-url.ca-central-1.on.aws/\",\n\n    {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authentication\": accessToken\n      },\n      body: JSON.stringify({...note, email: email}),\n    }\n\n    );\n\n  };\n\n  const deleteNote = async (index, user) => {\n    const noteId = notes[index].id;\n    const email = profile.email;\n    \n    {accessToken ? console.log(accessToken):console.log(\"not work\")};\n  \n    await fetch(\n      \"https://rsyegodqj2gjpnvxly6yjbe54q0wnwjv.lambda-url.ca-central-1.on.aws/\",\n\n      {\n        method:\"DELETE\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"Authentication\": accessToken\n        },\n        body: JSON.stringify(\n          {id:noteId, email: email}\n        ),\n      });\n\n    setNotes([...notes.slice(0, index), ...notes.slice(index + 1)]);\n    setCurrentNote(0);\n    setEditMode(false);\n  };\n\n  const getNotes = async (profile, aToken) => {\n    console.log(\"In the process of getting notes...\");\n    \n    const email = profile.email;\n    const res = await fetch(\n      `https://ctbkgtwmw4plqzjvkbc5x3qwce0ubaop.lambda-url.ca-central-1.on.aws?email=${email}`,\n      {\n        // mode:'no-cors',\n        method: \"GET\",\n        headers: {\n          \"Content-Type\":\"application/json\",\n          \"Authentication\": aToken\n        }\n      }\n    );\n    const data = await res.json();\n    setNotes(data.data);\n  }\n\n  const addNote = () => {\n    setNotes([\n      {\n        id: uuidv4(),\n        title: \"Untitled\",\n        body: \"\",\n        when: currentDate(),\n      },\n      ...notes,\n    ]);\n    setEditMode(true);\n    setCurrentNote(0);\n  };\n  const [bgColor, setBgColor] = useState('white');\n  const [color,setColor] = useState('black');\n\n  const handleButtonClick = () => {\n    setBgColor(bgColor === 'white' ? 'black' : 'white');\n    setColor(color === 'black' ? 'white' : 'black')\n  };\n \n  return (\n    <div >\n      {profile ? (\n        <div style={{ backgroundColor: bgColor, color: color}} id=\"container\">\n          <header>\n            <aside>\n              <button style={{color:color}} id=\"menu-button\" onClick={() => setCollapse(!collapse)}>\n                &#9776;\n              </button>\n              <button style={{width:'60px', color:color}} onClick={handleButtonClick}>&#9681;</button>\n            </aside>\n            <div id=\"app-header\">\n              <h1>\n                <Link to=\"/notes\">Motion ProMax</Link>\n              </h1>\n              <h6 id=\"app-moto\">Like Motion, but better.</h6>\n            </div>\n            <div id=\"right\">\n              <div id=\"absolute\">{signedIn ? profile.email : \"\"}</div>\n              <button style={{color:color}}\n                id={signedIn ? \"log-out-button\" : \"log-out-button-hidden\"}\n                onClick={() => logOut()}\n              >\n                Log out\n              </button>\n            </div>\n          </header>\n\n          <div id=\"main-container\" ref={mainContainerRef}>\n            <aside id=\"sidebar\" className={collapse ? \"hidden\" : null}>\n              <header>\n                <div id=\"notes-list-heading\">\n                  <h2>Notes</h2>\n                  <button style={{color:color}} id=\"new-note-button\" onClick={addNote}>\n                    +\n                  </button>\n                </div>\n              </header>\n              <div id=\"notes-holder\">\n                <NoteList notes={notes} />\n              </div>\n            </aside>\n            <div id=\"write-box\">\n              <Outlet context={[notes, saveNote, deleteNote]} />\n            </div>\n          </div>\n        </div>\n      ) : (\n        <div id=\"LoginPage\">\n          <header>\n            <aside>\n              <button id=\"menu-button\" onClick={() => setCollapse(!collapse)}>\n                &#9776;\n              </button>\n              <button style={{width:'60px', color:color}} onClick={handleButtonClick}>&#9681;</button>\n            </aside>\n            <div id=\"app-header\">\n              <h1>\n                <Link to=\"/notes\">Motion proMax</Link>\n              </h1>\n              <h6 id=\"app-moto\">Like Motion, but better.</h6>\n            </div>\n            <aside>&nbsp;</aside>\n          </header>\n          <div id=\"sign-in\">\n            <GoogleLogin\n              onSuccess={() => {\n                login();\n                setSignedIn(true);\n              }}\n              onError={(error) => console.log(\"Login Failed:\", error)}\n            />\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\nexport default Layout;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}