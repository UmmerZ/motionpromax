{"ast":null,"code":"var _jsxFileName = \"/Users/geos/Desktop/motionpromax/src/WriteBox.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { useOutletContext, useParams, Link } from \"react-router-dom\";\nimport { currentDate } from \"./utils\";\nimport ReactQuill from \"react-quill\";\nimport Empty from \"./Empty\";\nimport FormattedDate from \"./FormattedDate\";\nimport \"react-quill/dist/quill.snow.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction WriteBox(_ref) {\n  _s();\n  let {\n    edit\n  } = _ref;\n  let {\n    noteId\n  } = useParams();\n  noteId -= 1;\n  const [notes, updateNote, deleteNote] = useOutletContext();\n  let currentNote = {\n    title: \"\",\n    body: \"\",\n    when: \"\"\n  };\n  if (noteId >= 0 && notes.length > noteId) {\n    currentNote = notes[noteId];\n  }\n  const [noteBody, setNoteBody] = useState(\"\");\n  const [noteTitle, setNoteTitle] = useState(\"\");\n  const [noteWhen, setNoteWhen] = useState();\n  const [id, setId] = useState(\"\");\n  useEffect(() => {\n    setNoteBody(currentNote.body);\n    setNoteTitle(currentNote.title);\n    if (currentNote.when) {\n      setNoteWhen(currentNote.when);\n    } else {\n      setNoteWhen(currentDate());\n    }\n    setId(currentNote.id);\n  }, [currentNote]);\n  const save = () => {\n    updateNote({\n      body: noteBody,\n      title: noteTitle,\n      when: noteWhen,\n      id: id\n    }, noteId);\n  };\n  const tryDelete = () => {\n    const answer = window.confirm(\"Are you sure?\");\n    if (answer) {\n      deleteNote(noteId);\n    }\n  };\n  return id ? /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"note-info\",\n        children: !edit ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"note-title\",\n            children: noteTitle\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(FormattedDate, {\n            date: noteWhen\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"note-title\",\n            value: noteTitle,\n            onChange: event => setNoteTitle(event.target.value),\n            autoFocus: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"datetime-local\",\n            value: noteWhen ? noteWhen : currentDate(),\n            onChange: event => setNoteWhen(event.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"note-controls\",\n        children: !edit ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            className: \"button\",\n            id: \"edit-button\",\n            to: `/notes/${noteId + 1}/edit`,\n            children: \"Edit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            className: \"button\",\n            id: \"delete-button\",\n            to: \"\",\n            onClick: tryDelete,\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            className: \"button\",\n            id: \"save-button\",\n            to: \"\",\n            onClick: save,\n            children: \"Save\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            className: \"button\",\n            id: \"delete-button\",\n            to: \"\",\n            onClick: tryDelete,\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), !edit ? /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"note-content\",\n      dangerouslySetInnerHTML: {\n        __html: noteBody\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(ReactQuill, {\n      placeholder: \"Your Note Here\",\n      theme: \"snow\",\n      value: noteBody,\n      onChange: setNoteBody\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true) : /*#__PURE__*/_jsxDEV(Empty, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 125,\n    columnNumber: 5\n  }, this);\n}\n_s(WriteBox, \"BiC/NB6GAjGpuyT20mFzLBZ9vGQ=\", false, function () {\n  return [useParams, useOutletContext];\n});\n_c = WriteBox;\nexport default WriteBox;\nvar _c;\n$RefreshReg$(_c, \"WriteBox\");","map":{"version":3,"names":["useEffect","useState","useOutletContext","useParams","Link","currentDate","ReactQuill","Empty","FormattedDate","jsxDEV","_jsxDEV","Fragment","_Fragment","WriteBox","_ref","_s","edit","noteId","notes","updateNote","deleteNote","currentNote","title","body","when","length","noteBody","setNoteBody","noteTitle","setNoteTitle","noteWhen","setNoteWhen","id","setId","save","tryDelete","answer","window","confirm","children","className","fileName","_jsxFileName","lineNumber","columnNumber","date","value","onChange","event","target","autoFocus","type","to","onClick","dangerouslySetInnerHTML","__html","placeholder","theme","_c","$RefreshReg$"],"sources":["/Users/geos/Desktop/motionpromax/src/WriteBox.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { useOutletContext, useParams, Link } from \"react-router-dom\";\nimport { currentDate } from \"./utils\";\nimport ReactQuill from \"react-quill\";\nimport Empty from \"./Empty\";\nimport FormattedDate from \"./FormattedDate\";\nimport \"react-quill/dist/quill.snow.css\";\n\nfunction WriteBox({ edit }) {\n  let { noteId } = useParams();\n  noteId -= 1;\n  const [notes, updateNote, deleteNote] = useOutletContext();\n  let currentNote = { title: \"\", body: \"\", when: \"\" };\n  if (noteId >= 0 && notes.length > noteId) {\n    currentNote = notes[noteId];\n  }\n  const [noteBody, setNoteBody] = useState(\"\");\n  const [noteTitle, setNoteTitle] = useState(\"\");\n  const [noteWhen, setNoteWhen] = useState();\n  const [id, setId] = useState(\"\");\n\n  useEffect(() => {\n    setNoteBody(currentNote.body);\n    setNoteTitle(currentNote.title);\n    if (currentNote.when) {\n      setNoteWhen(currentNote.when);\n    } else {\n      setNoteWhen(currentDate());\n    }\n    setId(currentNote.id);\n  }, [currentNote]);\n\n  const save = () => {\n    updateNote(\n      {\n        body: noteBody,\n        title: noteTitle,\n        when: noteWhen,\n        id: id,\n      },\n      noteId\n    );\n  };\n\n  const tryDelete = () => {\n    const answer = window.confirm(\"Are you sure?\");\n    if (answer) {\n      deleteNote(noteId);\n    }\n  };\n\n  return id ? (\n    <>\n      <header>\n        <div id=\"note-info\">\n          {!edit ? (\n            <>\n              <h2 className=\"note-title\">{noteTitle}</h2>\n              <FormattedDate date={noteWhen} />\n            </>\n          ) : (\n            <>\n              <input\n                className=\"note-title\"\n                value={noteTitle}\n                onChange={(event) => setNoteTitle(event.target.value)}\n                autoFocus\n              />\n              <input\n                type=\"datetime-local\"\n                value={noteWhen ? noteWhen : currentDate()}\n                onChange={(event) => setNoteWhen(event.target.value)}\n              />\n            </>\n          )}\n        </div>\n        <div id=\"note-controls\">\n          {!edit ? (\n            <>\n              <Link\n                className=\"button\"\n                id=\"edit-button\"\n                to={`/notes/${noteId + 1}/edit`}\n              >\n                Edit\n              </Link>\n              <Link\n                className=\"button\"\n                id=\"delete-button\"\n                to=\"\"\n                onClick={tryDelete}\n              >\n                Delete\n              </Link>\n            </>\n          ) : (\n            <>\n              <Link className=\"button\" id=\"save-button\" to=\"\" onClick={save}>\n                Save\n              </Link>\n              <Link\n                className=\"button\"\n                id=\"delete-button\"\n                to=\"\"\n                onClick={tryDelete}\n              >\n                Delete\n              </Link>\n            </>\n          )}\n        </div>\n      </header>\n      {!edit ? (\n        <div id=\"note-content\" dangerouslySetInnerHTML={{ __html: noteBody }} />\n      ) : (\n        <ReactQuill\n          placeholder=\"Your Note Here\"\n          theme=\"snow\"\n          value={noteBody}\n          onChange={setNoteBody}\n        />\n      )}\n    </>\n  ) : (\n    <Empty />\n  );\n}\n\nexport default WriteBox;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}